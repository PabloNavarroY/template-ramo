\ProvidesPackage{math-environments}

% --------- Package dependencies ---------

\usepackage{amsmath,amssymb,amsthm}
\usepackage{mathtools}

\usepackage{tocloft}
\usepackage{hyperref}

\usepackage{empheq}

\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{etoolbox}
\usepackage{enumitem}
\usepackage{ifthen}
\usepackage{tikz,float}
\usetikzlibrary{babel}


% Demostraci贸n
\newenvironment{dem}[1][]
{
  \vspace*{-1ex}
  \mdfsetup{
    frametitlealignment=\raggedright,
    frametitleaboveskip=0,
    frametitle={
      \hspace{-20pt}
      \tikz[baseline=(current bounding box.east),outer sep=0pt]
      \node[rectangle, draw=black, line width=1pt, color=black]
      {Demostraci贸n\ifstrempty{#1}{}{~(#1)}};
    },
    topline=false,bottomline=false,rightline=false,
    linewidth=1pt,
  }
  % \ifstrempty{#1}{}{\newpage}
  \begin{mdframed}[]\relax
  }{
  \hfill\break
  \vspace{-.3ex}
  \hfill\(\qed\)
  \end{mdframed}
}

% Soluci贸n
\newenvironment{sol}[1][]
{
  \vspace*{-1ex}
  \mdfsetup{
    frametitlealignment=\raggedright,
    frametitleaboveskip=0,
    frametitle={
      \hspace{-20pt}
      \tikz[baseline=(current bounding box.east),outer sep=0pt]
      \node[rectangle, draw=black, line width=1pt, color=black]
      {Soluci贸n\ifstrempty{#1}{}{~(#1)}};
    },
    topline=false,bottomline=false,rightline=false,
    linewidth=1pt,
  }
  \begin{mdframed}[]\relax
  }{
  \hfill\break
  \vspace{-.3ex}
  \hfill\(\blacksquare\)
  \end{mdframed}
}

% Pregunta
\newlistof{preguntas}{pr}{}
\newlist{enumpregunta}{enumerate}{1}
\setlist[enumpregunta, 1]{label={\textbf{P\arabic*.}}}
\newcounter{QuestionCounter}[section]
\newenvironment{pregunta}[1][]
{
  \refstepcounter{QuestionCounter}
  \ifstrempty{#1}{}{\setcounter{QuestionCounter}{#1}}
  \ifthenelse{\equal{\theQuestionCounter}{1}}{}{\newpage}
  \phantomsection
  \addcontentsline{pr}{preguntas}{Pregunta \theQuestionCounter}
  \begin{enumpregunta}[start=\theQuestionCounter]
    \item
}{
  \end{enumpregunta}
}
