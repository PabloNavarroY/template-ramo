\ProvidesPackage{fancy-dates}

% --------- Package dependencies ---------

\usepackage{datetime2}
\usepackage{tocloft}
\usepackage{hyperref}


% --------- √çndice Clases ---------
\newlistof{clases}{cl}{Clases}
\renewcommand{\cftcltitlefont}{\Large\bfseries}

% --------- Datetime Style ---------

\DTMnewdatestyle{longDateStyle}{
  \renewcommand{\DTMdisplaydate}[4]{\number##3\ de \DTMspanishmonthname{##2}, \number##1}
  \renewcommand{\DTMDisplaydate}[4]{\number##3\ de \DTMspanishMonthname{##2}, \number##1}}
\DTMnewdatestyle{listDateStyle}{
  \renewcommand{\DTMdisplaydate}[4]{\number##3\ de \DTMspanishmonthname{##2}}
  \renewcommand{\DTMDisplaydate}[4]{\number##3\ de \DTMspanishMonthname{##2}}}


% --------- Environment definitions ---------

\newcommand{\fecha}[3]{
  \DTMsetdatestyle{listDateStyle}
  \refstepcounter{clases}
  \phantomsection
  \addcontentsline{cl}{clases}{
    \protect\numberline{\theclases}\DTMDisplaydate{#3}{#2}{#1}{-1}}
  \DTMsetdatestyle{longDateStyle}
  \siimprimir{}{
    \begin{flushright}
      \fbox{\DTMDisplaydate{#3}{#2}{#1}{-1}}
    \end{flushright}
  }
}
